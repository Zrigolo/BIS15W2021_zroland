knitr::opts_chunk$set(echo = TRUE)
population <- read_csv(here("midterm2", "data", "population_total.csv"))
library(tidyverse)
library(janitor)
library(here)
options(scipen=999) #disables scientific notation when printing
population <- read_csv(here("midterm2", "data", "population_total.csv"))
population <- read_csv(here("data", "population_total.csv"))
income <- population <- read_csv(here("data", "income_per_person_gdppercapita_ppp_inflation_adjusted.csv"))
life_expectancy <- read_csv(here("data", "life_expectancy_years.csv"))
View(income)
names(income)
income %>% pivot_longer(-country,
names_to = "year",
values_to = "income")
income_long <- income %>% pivot_longer(-country,
names_to = "year",
values_to = "income")
income_long %>%
count(country)
income_long %>% summarize(n_countries=n_distinct(country))
levels(income_long$country)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(here)
options(scipen=999) #disables scientific notation when printing
population <- read_csv(here("data", "population_total.csv"))
population <- read_csv(here("data/population_total.csv"))
population <- read_csv("data/population_total.csv")
population
income <- read_csv(here("data", "income_per_person_gdppercapita_ppp_inflation_adjusted.csv"))
income <- read_csv("data/income_per_person_gdppercapita_ppp_inflation_adjusted.csv")
income
life_expectancy <- read_csv("data/life_expectancy_years.csv")
life_expectancy
population_tidy<- population %>%
pivot_longer(-country,names_to = "year", values_to ="population" )
population_tidy<- population %>%
pivot_longer(-country,names_to = "year", values_to ="population" )
population_tidy
glimpse(population)
naniar::miss_var_summary()
naniar::miss_var_summary(population)
summary(population)
income_tidy<- income %>%
pivot_longer(-country,names_to = "year", values_to ="income" )
income_tidy
population_tidy<- population %>%
pivot_longer(-country,names_to = "year", values_to ="population" )
population_tidy
life_expectancy_tidy<- life_expectancy %>%
pivot_longer(-country,names_to = "year", values_to ="life_expectancy" )
life_expectancy_tidy
summary(income)
naniar::miss_var_summary(income)
naniar::miss_var_summary(life_expectancy)
population %>%
n_distinct(country)
population %>%
summarise(n_distinct(country))
population %>%
summarise(n_countries_pop=n_distinct(country),
countries=names(country))
population %>%
summarise(n_countries_pop=n_distinct(country),
countries= country
population %>%
summarise(n_countries_pop=n_distinct(country),
countries= country)
population %>%
summarise(n_countries_pop=n_distinct(country),
countries_pop= country)
income %>%
summarise(n_countries_inc=n_distinct(country),
countries_inc= country)
life_expectancy %>%
summarise(n_countries_le=n_distinct(country),
countries_le= country)
life_expectancy_tidy %>%
filter(between(year, 1920,2020))
life_expectancy_tidy %>%
filter(between(year, 1920,2020)) %>%
arrange(desc(life_expectancy))
life_expectancy_tidy %>%
group_by(country) %>%
filter(between(year, 1920,2020)) %>%
arrange(desc(life_expectancy))
life_expectancy_tidy %>%
group_by(country) %>%
filter(between(year, 1920,2020)) %>%
summarize(mean_le= mean(life_expectancy))
arrange(desc(mean_le))
life_expectancy_tidy %>%
group_by(country) %>%
filter(between(year, 1920,2020)) %>%
summarize(mean_le= mean(life_expectancy)) %>%
arrange(desc(mean_le))
life_expectancy_tidy %>%
group_by(country) %>%
filter(between(year, 1920,2020)) %>%
summarize(max_le= max(life_expectancy)) %>%
life_expectancy_tidy %>%
group_by(country) %>%
filter(between(year, 1920,2020)) %>%
summarize(max_le= max(life_expectancy))
life_expectancy_tidy %>%
group_by(country) %>%
filter(between(year, 1920,2020)) %>%
summarize(mean_le= mean(life_expectancy))
life_expectancy_tidy %>%
group_by(country) %>%
filter(between(year, 1920,2020)) %>%
filter(life_expectancy!="NA") %>%
summarize(mean_le= mean(life_expectancy)) %>%
filter(max(mean_le))
life_expectancy_tidy %>%
group_by(country) %>%
filter(between(year, 1920,2020)) %>%
filter(life_expectancy!=NA) %>%
summarize(mean_le= mean(life_expectancy)) %>%
filter(max(mean_le))
life_expectancy_tidy %>%
group_by(country) %>%
filter(between(year, 1920,2020)) %>%
filter(life_expectancy!="NA") %>%
summarize(mean_le= mean(life_expectancy)) %>%
arrange(desc(mean_le))
life_expectancy_tidy %>%
group_by(country) %>%
filter(between(year, 1920,2020)) %>%
filter(life_expectancy!="NA") %>%
summarize(mean_le= mean(life_expectancy)) %>%
arrange(desc(mean_le)) %>%
top_n(mean_le,1)
life_expectancy_tidy %>%
group_by(country) %>%
filter(between(year, 1920,2020)) %>%
filter(life_expectancy!="NA") %>%
summarize(mean_le= mean(life_expectancy)) %>%
arrange(desc(mean_le)) %>%
filter(max(mean_le))
life_expectancy_tidy %>%
group_by(country) %>%
filter(between(year, 1920,2020)) %>%
filter(life_expectancy!="NA") %>%
summarize(mean_le= mean(life_expectancy)) %>%
arrange(desc(mean_le)) %>%
filter(top_n(mean_le))
life_expectancy_tidy %>%
group_by(country) %>%
filter(between(year, 1920,2020)) %>%
filter(life_expectancy!="NA") %>%
summarize(mean_le= mean(life_expectancy)) %>%
arrange(desc(mean_le)) %>%
life_expectancy_tidy %>%
group_by(country) %>%
filter(between(year, 1920,2020)) %>%
filter(life_expectancy!="NA") %>%
summarize(mean_le= mean(life_expectancy)) %>%
arrange(desc(mean_le))
life_expectancy_tidy %>%
group_by(country) %>%
filter(between(year, 1920,2020)) %>%
filter(life_expectancy!="NA") %>%
summarize(mean_le= mean(life_expectancy)) %>%
arrange(mean_le)
head(life_expectancy_tidy)
head(life_expectancy)
life_expectancy %>%
mutate(biggest_change= `2020`-`1920`)
life_expectancy %>%
group_by(country)
mutate(biggest_change= `2020`-`1920`) %>%
select(country,biggest_change)
life_expectancy %>%
group_by(country,year) %>%
select(country, "1920","2020")
life_expectancy %>%
group_by(country) %>%
select(country, "1920","2020")
life_expectancy %>%
select(country, "1920","2020") %>%
group_by(country) %>%
mutate(biggest_change= "2020"-"1920")
life_expectancy %>%
select(country, "1920","2020") %>%
group_by(country)
life_expectancy %>%
select(country, "1920","2020") %>%
group_by(country) %>%
mutate(biggest_change= "1920"-"2020")
life_expectancy %>%
select(country, "1920","2020") %>%
group_by(country) %>%
mutate(biggest_change= "2020"-"1920")
life_expectancy %>%
select(country, "1920","2020") %>%
group_by(country) %>%
rename(initial_pop = "1920", final_pop = "2020")
life_expectancy %>%
select(country, "1920","2020") %>%
group_by(country) %>%
rename(initial_pop = "1920", final_pop = "2020") %>%
mutate(change_pop = final_pop - initial_pop)
life_expectancy %>%
select(country, "1920","2020") %>%
group_by(country) %>%
rename(initial_le = "1920", final_le = "2020") %>%
mutate(change_le = final_le - initial_le)
life_expectancy %>%
select(country, "1920","2020") %>%
group_by(country) %>%
rename(initial_le = "1920", final_le = "2020") %>%
mutate(change_le = final_le - initial_le) %>%
arrange(desc(change_le))
life_expectancy2-> life_expectancy %>%
select(country, "1920","2020") %>%
group_by(country) %>%
rename(initial_le = "1920", final_le = "2020") %>%
mutate(change_le = final_le - initial_le) %>%
arrange(desc(change_le))
life_expectancy2<- life_expectancy %>%
select(country, "1920","2020") %>%
group_by(country) %>%
rename(initial_le = "1920", final_le = "2020") %>%
mutate(change_le = final_le - initial_le) %>%
arrange(desc(change_le))
life_expectancy2<- life_expectancy %>%
select(country, "1920","2020") %>%
group_by(country) %>%
rename(initial_le = "1920", final_le = "2020") %>%
mutate(change_le = final_le - initial_le) %>%
arrange(desc(change_le))
life_expectancy2
life_expectancy %>%
select(country, "1920","2020") %>%
group_by(country) %>%
rename(initial_le = "1920", final_le = "2020") %>%
mutate(change_le = final_le - initial_le) %>%
arrange(desc(change_le))
head(life_expectancy)
head(life_expectancy_tidy)
life_expectancy_tidy %>%
filter(country== "Kuwait" |country== "Kyrgyz Republic" |country== "Turkmenistan" |country== "South Korea" |country== "Tajikistan" |)
life_expectancy_tidy %>%
filter(country== "Kuwait" |country== "Kyrgyz Republic" |country== "Turkmenistan" |country== "South Korea" |country== "Tajikistan")
life_expectancy_tidy %>%
filter(country== "Kuwait" |country== "Kyrgyz Republic" |country== "Turkmenistan" |country== "South Korea" |country== "Tajikistan") %>%
filter(between(year,"1920","2020"))
life_expectancy_tidy %>%
filter(country== "Kuwait" |country== "Kyrgyz Republic" |country== "Turkmenistan" |country== "South Korea" |country== "Tajikistan") %>%
filter(between(year,"1920","2020")) %>%
ggplot(aes(x=year,y=life_expectancy, color=country))+ geom_point()
life_expectancy_tidy %>%
filter(country== "Kuwait" |country== "Kyrgyz Republic" |country== "Turkmenistan" |country== "South Korea" |country== "Tajikistan") %>%
filter(between(year,"1920","2020")) %>%
ggplot(aes(x=year,y=life_expectancy, color=country))+ geom_line()
life_expectancy_tidy %>%
filter(country== "Kuwait" |country== "Kyrgyz Republic" |country== "Turkmenistan" |country== "South Korea" |country== "Tajikistan") %>%
filter(between(year,"1920","2020")) %>%
ggplot(aes(x=year,y=life_expectancy, color=country))+ geom_smooth()
life_expectancy_tidy %>%
filter(country== "Kuwait" |country== "Kyrgyz Republic" |country== "Turkmenistan" |country== "South Korea" |country== "Tajikistan") %>%
filter(between(year,"1920","2020")) %>%
ggplot(aes(x=year,y=life_expectancy, color=country))+ geom_point()
life_expectancy_tidy %>%
filter(country== "Kuwait" |country== "Kyrgyz Republic" |country== "Turkmenistan" |country== "South Korea" |country== "Tajikistan") %>%
filter(between(year,"1920","2020")) %>%
ggplot(aes(x=year,y=life_expectancy, color=country))+ geom_point() +geom_smooth()
life_expectancy_tidy %>%
filter(country== "Kuwait" |country== "Kyrgyz Republic" |country== "Turkmenistan" |country== "South Korea" |country== "Tajikistan") %>%
filter(between(year,"1920","2020")) %>%
ggplot(aes(x=year,y=life_expectancy, color=country))+ geom_point() +geom_line()
life_expectancy_tidy %>%
filter(country== "Kuwait" |country== "Kyrgyz Republic" |country== "Turkmenistan" |country== "South Korea" |country== "Tajikistan") %>%
filter(between(year,"1920","2020")) %>%
ggplot(aes(x=year,y=life_expectancy, color=country))+ geom_line()+ geom_point(shape=1)+ labs(title = "Life Expectancy between 1920 and 2020", x = "Year", y= "Age (years)")+ theme(axis.text.x = element_text(angle = 60, hjust = 1), plot.title = element_text(size = rel(1.5), hjust = 0.5))
life_expectancy_tidy %>%
filter(country== "Kuwait" |country== "Kyrgyz Republic" |country== "Turkmenistan" |country== "South Korea" |country== "Tajikistan") %>%
filter(between(year,"1920","2020")) %>%
ggplot(aes(x=year,y=life_expectancy, color=country))+ geom_line()+ geom_point(shape=1)+ labs(title = "Life Expectancy between 1920 and 2020", x = "Year", y= "Age (years)")+ theme(axis.text.x = element_text(angle = 90, hjust = 1), plot.title = element_text(size = rel(1.5), hjust = 0.5))
life_expectancy_tidy %>%
filter(country== "Kuwait" |country== "Kyrgyz Republic" |country== "Turkmenistan" |country== "South Korea" |country== "Tajikistan") %>%
filter(between(year,"1920","2020")) %>%
ggplot(aes(x=year,y=life_expectancy, color=country))+ geom_line()+ geom_point(shape=1)+ labs(title = "Life Expectancy between 1920 and 2020", x = "Year", y= "Age (years)")+ theme(axis.text.x = element_text(angle = 70, hjust = 1), plot.title = element_text(size = rel(1.5), hjust = 0.5))
life_expectancy_tidy %>%
filter(country== "Kuwait" |country== "Kyrgyz Republic" |country== "Turkmenistan" |country== "South Korea" |country== "Tajikistan") %>%
filter(between(year,"1920","2020")) %>%
ggplot(aes(x=year,y=life_expectancy, color=country))+ geom_line()+coord_flip() +geom_point(shape=1)+ labs(title = "Life Expectancy between 1920 and 2020", x = "Year", y= "Age (years)")+ theme(axis.text.x = element_text(angle = 70, hjust = 1), plot.title = element_text(size = rel(1.5), hjust = 0.5))
life_expectancy_tidy %>%
filter(country== "Kuwait" |country== "Kyrgyz Republic" |country== "Turkmenistan" |country== "South Korea" |country== "Tajikistan") %>%
filter(between(year,"1920","2020")) %>%
ggplot(aes(x=year,y=life_expectancy, color=country))+ geom_line()+coord_flip() +geom_point(shape=1)+ labs(title = "Life Expectancy between 1920 and 2020", x = "Year", y= "Age (years)")+ theme(axis.text.x = element_text(angle = 0, hjust = 1), plot.title = element_text(size = rel(1.5), hjust = 0.5))
life_expectancy_tidy %>%
filter(country== "Kuwait" |country== "Kyrgyz Republic" |country== "Turkmenistan" |country== "South Korea" |country== "Tajikistan") %>%
filter(between(year,"1920","2020")) %>%
ggplot(aes(x=year,y=life_expectancy, color=country))+ geom_line()+geom_point(shape=1)+ labs(title = "Life Expectancy between 1920 and 2020", x = "Year", y= "Age (years)")+ theme(axis.text.x = element_text(angle = 60, hjust = 1), plot.title = element_text(size = rel(1.5), hjust = 0.5))
life_expectancy_tidy %>%
filter(country== "Kuwait" |country== "Kyrgyz Republic" |country== "Turkmenistan" |country== "South Korea" |country== "Tajikistan") %>%
filter(between(year,"1920","2020")) %>%
ggplot(aes(x=year,y=life_expectancy, color=country))+ geom_line()+geom_point()+ labs(title = "Life Expectancy between 1920 and 2020", x = "Year", y= "Age (years)")+ theme(axis.text.x = element_text(angle = 60, hjust = 1), plot.title = element_text(size = rel(1.5), hjust = 0.5))
life_expectancy_tidy %>%
filter(country== "Kuwait" |country== "Kyrgyz Republic" |country== "Turkmenistan" |country== "South Korea" |country== "Tajikistan") %>%
filter(between(year,"1920","2020")) %>%
ggplot(aes(x=year,y=life_expectancy,group=country, color=country))+ geom_line()+geom_point()+ labs(title = "Life Expectancy between 1920 and 2020", x = "Year", y= "Age (years)")+ theme(axis.text.x = element_text(angle = 60, hjust = 1), plot.title = element_text(size = rel(1.5), hjust = 0.5))
life_expectancy_tidy %>%
filter(country== "Kuwait" |country== "Kyrgyz Republic" |country== "Turkmenistan" |country== "South Korea" |country== "Tajikistan") %>%
filter(between(year,"1920","2020")) %>%
ggplot(aes(x=year,y=life_expectancy,group=country, color=country))+ geom_line()+geom_point(alpha(0.2))+ labs(title = "Life Expectancy between 1920 and 2020", x = "Year", y= "Age (years)")+ theme(axis.text.x = element_text(angle = 60, hjust = 1), plot.title = element_text(size = rel(1.5), hjust = 0.5))
life_expectancy_tidy %>%
filter(country== "Kuwait" |country== "Kyrgyz Republic" |country== "Turkmenistan" |country== "South Korea" |country== "Tajikistan") %>%
filter(between(year,"1920","2020")) %>%
ggplot(aes(x=year,y=life_expectancy,group=country, color=country))+ geom_line()+geom_point()+ labs(title = "Life Expectancy between 1920 and 2020", x = "Year", y= "Age (years)")+ theme(axis.text.x = element_text(angle = 60, hjust = 1), plot.title = element_text(size = rel(1.5), hjust = 0.5))
